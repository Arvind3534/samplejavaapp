
pipeline{
    agent{
       label 'java'
    }
    tools{
    maven 'maven-1'
    }
    stages{
        stage('compile'){
            steps{
                sh "mvn clean compile"

            }
            
         }
        stage('unit-test'){
	        steps {
                echo 'unittest..'
	            sh  'mvn test'
                 }
	   }
	   stage('package'){
            steps{
                sh "mvn clean package"

            }
            
         }
	 
         post {
               success {
                   junit 'target/surefire-reports/*.xml'
               }
           }

     }
}
